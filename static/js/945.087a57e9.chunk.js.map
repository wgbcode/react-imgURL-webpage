{"version":3,"file":"static/js/945.087a57e9.chunk.js","mappings":"mNAQMA,GAAaC,EAAAA,EAAAA,IAAOC,EAAAA,GAAAA,KAAAA,KAAPD,CAAH,0KAUVE,GAAUC,EAAAA,EAAAA,KAAS,YACvBC,EAAAA,EAAAA,YAAU,WAER,OADAC,EAAAA,EAAAA,cACO,WACLA,EAAAA,EAAAA,kBAED,IACH,IAAMC,EAAe,SAACC,GACpB,IAAMC,EAAOD,EAAKE,WAAWC,SAC7B,OAAOF,EAAKG,UAAU,EAAGH,EAAKI,YAAY,OAmBtCC,EAAOR,EAAAA,EAAAA,eAAAA,KAA0B,SAACE,EAAMO,GAAP,MAAkB,CACvDC,KAAK,GAAD,OAAKR,EAAKE,WAAWO,IAAIP,WAAWO,KACxCC,MAAM,GAAD,OAAKH,EAAQ,EAAI,IAAMR,EAAaC,IACzCW,OAAQ,qCACRC,YAAY,aAAD,OAAeZ,EAAKE,WAAWC,SAA/B,yBArBWU,EAsBCb,EAAKE,WAAWO,IAAIP,WAAWY,SAASC,KArB3DF,EAAW,KACNA,EAAW,IACTA,EAAW,SACTA,EAAW,MACVG,QAAQ,GACN,KACLH,EAAW,YACTA,EAAQ,SACPG,QAAQ,GACN,MAEHH,EAAQ,YACPG,QAAQ,GACN,MAOL,8BAEGC,IAAMjB,EAAKE,WAAWO,IAAIS,WAAWC,OAAO,cAF/C,6BAGEF,IAAMjB,EAAKE,WAAWO,IAAIW,WAAWD,OAAO,cAH9C,0BAIDnB,EAAKE,WAAWO,IAAIP,WAAWO,MAzBpB,IAACI,KA2BxB,OACE,gBACEQ,MAAO,CACLC,WAAY,OACZC,SAAU,IACVC,QAAS,OACTC,cAAe,SACfC,OAAQ,QANZ,SASG5B,EAAAA,EAAAA,aAAuD,IAAjCA,EAAAA,EAAAA,eAAAA,QACrB,SAAC,KAAD,CACEuB,MAAO,CACLM,OAAQ,wBACRC,QAAS,sBACTC,UACE,+DACFC,aAAc,cACdR,WAAY,QACZC,SAAU,KAEZQ,WAAW,WACXhB,KAAK,QACLiB,WAAY,CACVC,SAAU,EACVC,eAAgB,EAChBC,MAAM,GAAD,OAAKrC,EAAAA,EAAAA,eAAAA,QACVsC,kBAAkB,GAEpBC,WAAY/B,EACZgC,WAAY,SAACtC,GAAD,OACV,SAAC,UAAD,CAEEuC,OAAO,gBAAKC,MAAO,IAAKC,IAAI,OAAOC,IAAK1C,EAAKQ,OAF/C,UAIE,SAAChB,EAAD,CACE6B,MAAO,CACLsB,WAAY,WACZC,UAAW,YACXC,SAAU,cAEZlC,QAAQ,SAAC,IAAD,CAAQ+B,IAAK1C,EAAKW,SAC1BD,OAAO,cAAGF,KAAMR,EAAKQ,KAAd,SAAqBR,EAAKU,QACjCE,YAAaZ,EAAKY,eAXfZ,EAAK8C,UAiBhB,SAAC,KAAD,CACEzB,MAAO,CACLC,WAAY,QACZC,SAAU,IACVK,QAAS,SAEXU,WAAY,SAACtC,GAAD,OAAU,SAAC,UAAD,GAAgBA,EAAK8C,cAOrD","sources":["pages/History.js"],"sourcesContent":["import * as React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport Stores from \"../stores/index\";\r\nimport { Avatar, List, Space } from \"antd\";\r\nimport { observer } from \"mobx-react\";\r\nimport dayjs from \"dayjs\";\r\nimport styled from \"styled-components\";\r\n\r\nconst StyledMeta = styled(List.Item.Meta)`\r\n  .ant-list-item-meta-title {\r\n    font-size: 20px;\r\n  }\r\n  .ant-list-item-meta-description {\r\n    font-size: 14px;\r\n    line-height: 30px;\r\n  }\r\n`;\r\n\r\nconst History = observer(() => {\r\n  useEffect(() => {\r\n    Stores.findHistory();\r\n    return () => {\r\n      Stores.resetHistory();\r\n    };\r\n  }, []);\r\n  const getFiledName = (item) => {\r\n    const file = item.attributes.filename;\r\n    return file.substring(0, file.lastIndexOf(\".\"));\r\n  };\r\n  const formatFileSize = (fileSize) => {\r\n    if (fileSize < 1024) {\r\n      return fileSize + \"B\";\r\n    } else if (fileSize < 1024 * 1024) {\r\n      var temp = fileSize / 1024;\r\n      temp = temp.toFixed(2);\r\n      return temp + \"KB\";\r\n    } else if (fileSize < 1024 * 1024 * 1024) {\r\n      var temp = fileSize / (1024 * 1024);\r\n      temp = temp.toFixed(2);\r\n      return temp + \"MB\";\r\n    } else {\r\n      var temp = fileSize / (1024 * 1024 * 1024);\r\n      temp = temp.toFixed(2);\r\n      return temp + \"GB\";\r\n    }\r\n  };\r\n  const data = Stores.newHistoryList.map((item, index) => ({\r\n    href: `${item.attributes.url.attributes.url}`,\r\n    title: `${index + 1 + \".\" + getFiledName(item)}`,\r\n    avatar: \"https://joeschmoe.io/api/v1/random\",\r\n    description: `FileName: ${item.attributes.filename} \r\n    Size: ${formatFileSize(item.attributes.url.attributes.metaData.size)} \r\n    CreatedAt:  ${dayjs(item.attributes.url.createdAt).format(\"YYYY-MM-DD\")} \r\n    UpdatedAt: ${dayjs(item.attributes.url.updatedAt).format(\"YYYY-MM-DD\")} \r\n    ImgURL: ${item.attributes.url.attributes.url}`,\r\n  }));\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"grey\",\r\n        flexGrow: \"1\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      {Stores.currentUser && Stores.newHistoryList.length !== 0 ? (\r\n        <List\r\n          style={{\r\n            margin: \"10px 200px 10px 100px\",\r\n            padding: \"10px 20px 20px 20px\",\r\n            boxShadow:\r\n              \"2px 2px 4px 0 rgba(0,0,0,0.1),-2px -2px 4px 0 rgba(0,0,0,0.)\",\r\n            borderRadius: \"4px 4px 0 0\",\r\n            background: \"white\",\r\n            flexGrow: \"1\",\r\n          }}\r\n          itemLayout=\"vertical\"\r\n          size=\"large\"\r\n          pagination={{\r\n            pageSize: 5,\r\n            defaultCurrent: 1,\r\n            total: `${Stores.newHistoryList.length}`,\r\n            hideOnSinglePage: true,\r\n          }}\r\n          dataSource={data}\r\n          renderItem={(item) => (\r\n            <List.Item\r\n              key={item.heft}\r\n              extra={<img width={272} alt=\"logo\" src={item.href} />}\r\n            >\r\n              <StyledMeta\r\n                style={{\r\n                  whiteSpace: \"pre-line\",\r\n                  wordBreak: \"break-all\",\r\n                  wordWrap: \"break-word\",\r\n                }}\r\n                avatar={<Avatar src={item.avatar} />}\r\n                title={<a href={item.href}>{item.title}</a>}\r\n                description={item.description}\r\n              />\r\n            </List.Item>\r\n          )}\r\n        />\r\n      ) : (\r\n        <List\r\n          style={{\r\n            background: \"white\",\r\n            flexGrow: \"1\",\r\n            padding: \"150px\",\r\n          }}\r\n          renderItem={(item) => <List.Item key={item.heft}></List.Item>}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default History;\r\n"],"names":["StyledMeta","styled","List","History","observer","useEffect","Stores","getFiledName","item","file","attributes","filename","substring","lastIndexOf","data","index","href","url","title","avatar","description","fileSize","metaData","size","toFixed","dayjs","createdAt","format","updatedAt","style","background","flexGrow","display","flexDirection","height","margin","padding","boxShadow","borderRadius","itemLayout","pagination","pageSize","defaultCurrent","total","hideOnSinglePage","dataSource","renderItem","extra","width","alt","src","whiteSpace","wordBreak","wordWrap","heft"],"sourceRoot":""}